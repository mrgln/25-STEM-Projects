# Урок 13. Игра «Buzz Wire»

## Теория  

«Buzz Wire» — это классическая игра на ловкость, где нужно провести металлическое кольцо по извилистой проволоке, не касаясь её.  
Когда кольцо касается проволоки, раздаётся сигнал (зуммер, лампочка или светодиод).  

Принцип работы:  
1. На Arduino кольцо и проволока подключаются как два контакта.  
2. Пока они не касаются — цепь разомкнута.  
3. При касании контакты замыкаются, и Arduino может подать сигнал.  

Это отличный проект для изучения работы с простыми контактными датчиками и создания своей мини-игры.  

---

## Интересные факты  

- Первая игра такого типа появилась ещё в XIX веке и использовалась для тренировки координации движений.  
- В наши дни аналогичные «buzz wire» часто встречаются в аттракционах и на ярмарках.  
- Усложнённые версии содержат таймеры и счётчики попыток.  
- На Arduino можно легко модернизировать игру: вести подсчёт очков, включать разные сигналы и даже использовать дисплей.  

---

## Практика  

### Материалы  

- Arduino Uno (или совместимая).  
- Проволока (основная трасса).  
- Металлическое кольцо (ручка игрока).  
- Пьезо-динамик.  
- Светодиод + резистор 220 Ω.  
- Провода, макетная плата.  

### Подключение  

1. Проволока → пин D2.  
2. Кольцо → GND.  
3. Светодиод: анод через резистор → D13, катод → GND.  
4. Пьезо-динамик: один вывод → D8, второй → GND.  

> При касании кольца и проволоки пин D2 получает LOW.  

---

## Программный код (базовая версия)

```cpp
// Урок 13: Игра Buzz Wire
// Простая версия: при касании загорается LED и пищит динамик

int wirePin = 2;
int ledPin = 13;
int buzzerPin = 8;

void setup() {
  pinMode(wirePin, INPUT_PULLUP); // проволока как вход с подтяжкой
  pinMode(ledPin, OUTPUT);
  pinMode(buzzerPin, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  int state = digitalRead(wirePin);

  if (state == LOW) { // кольцо касается проволоки
    digitalWrite(ledPin, HIGH);
    tone(buzzerPin, 1000);
    Serial.println("Ошибка!");
  } else {
    digitalWrite(ledPin, LOW);
    noTone(buzzerPin);
  }
}
```

Программный код (с таймером и подсчётом ошибок)

```cpp
// Урок 13: Buzz Wire (версия с подсчётом ошибок и временем)
int wirePin = 2;
int ledPin = 13;
int buzzerPin = 8;

unsigned long startTime;
int errors = 0;

void setup() {
  pinMode(wirePin, INPUT_PULLUP);
  pinMode(ledPin, OUTPUT);
  pinMode(buzzerPin, OUTPUT);
  Serial.begin(9600);

  Serial.println("Игра началась! Проведите кольцо по трассе...");
  startTime = millis();
}

void loop() {
  int state = digitalRead(wirePin);

  if (state == LOW) { // касание
    digitalWrite(ledPin, HIGH);
    tone(buzzerPin, 1000);
    errors++;
    Serial.print("Ошибка №");
    Serial.println(errors);
    delay(500); // задержка, чтобы не считать одно касание много раз
  } else {
    digitalWrite(ledPin, LOW);
    noTone(buzzerPin);
  }

  // выводим время игры каждые 5 секунд
  if ((millis() - startTime) % 5000 < 50) {
    Serial.print("Время: ");
    Serial.print((millis() - startTime) / 1000);
    Serial.println(" сек");
  }
}

```

Эксперименты

Увеличьте или уменьшите чувствительность: измените задержку после касания.
Сделайте трассу длиннее или сложнее, используя разные изгибы проволоки.
Подключите несколько светодиодов: один мигает при касании, другой — считает очки.
Добавьте кнопку «Старт» и «Финиш», чтобы запускать и останавливать игру.
Реализуйте «уровни сложности»: чем больше ошибок, тем быстрее мигает светодиод.

Задание для самостоятельной работы

Нарисуйте схему подключения «buzz wire».
Составьте таблицу: количество ошибок разных игроков.
Добавьте вывод результатов (ошибки и время) в Serial Monitor в конце игры.
Реализуйте «турнир»: несколько игроков по очереди играют, и Arduino выбирает победителя (минимум ошибок и минимальное время).
Сделайте «бонус»: при успешном прохождении без ошибок Arduino мигает лампочкой и играет мелодию.
