# Урок 14. Игра «Динозавр»

## Теория  

Игра «Динозавр» (Google Dino Game) появилась в браузере Google Chrome и запускается, когда нет доступа к интернету. Управлять динозавром очень просто — он прыгает через кактусы, и цель игры — продержаться как можно дольше.  

На Arduino можно реализовать упрощённую версию этой игры. Вместо настоящей графики мы будем использовать:  
- **Светодиод** для «препятствия».  
- **Кнопку** для прыжка динозавра.  
- **Звуковой сигнал** (опционально), когда игрок сталкивается с препятствием.  

Таким образом, игра тренирует реакцию: игрок должен вовремя нажать кнопку, чтобы «перепрыгнуть» мигающий светодиод-кактус.  

---

## Интересные факты  

- Официальное название игры — «Chrome Dino» или «T-Rex Runner».  
- В игру играют миллионы пользователей ежедневно, даже в офисах Google.  
- При длительной игре скорость постепенно увеличивается, делая прохождение всё сложнее.  
- Аналогичные проекты легко реализуются на Arduino с помощью светодиодов и кнопок.  

---

## Практика  

### Материалы  

- Arduino Uno (или совместимая).  
- Светодиод + резистор 220 Ом (препятствие).  
- Кнопка (для прыжка).  
- Резистор 10 кОм (pull-down) или использовать `INPUT_PULLUP`.  
- Пьезо-динамик (опционально).  
- Макетная плата, провода.  

### Подключение  

1. Светодиод: анод через 220 Ом → пин D13, катод → GND.  
2. Кнопка: один вывод → пин D2, второй → GND (или `INPUT_PULLUP`).  
3. Пьезо (опционально): пин D8 → пьезо, второй вывод → GND.  

---

## Программный код (простая версия игры)

```cpp
// Урок 14: Игра Динозавр (простая)
// Игрок должен нажать кнопку вовремя, чтобы "перепрыгнуть" препятствие

int ledPin = 13;    // препятствие
int buttonPin = 2;  // прыжок
int buzzerPin = 8;  // звук

bool jumping = false;
bool gameOver = false;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT_PULLUP);
  pinMode(buzzerPin, OUTPUT);
  Serial.begin(9600);
  Serial.println("Игра началась! Жми кнопку, чтобы прыгать!");
}

void loop() {
  if (gameOver) return;

  // Препятствие появляется
  digitalWrite(ledPin, HIGH);
  delay(500);

  // Проверка прыжка
  if (digitalRead(buttonPin) == LOW) { // кнопка нажата
    jumping = true;
    Serial.println("Прыжок!");
  } else {
    jumping = false;
  }

  // Если препятствие включено и игрок не прыгнул -> столкновение
  if (!jumping) {
    Serial.println("Столкновение! Игра окончена.");
    tone(buzzerPin, 500);
    delay(1000);
    noTone(buzzerPin);
    gameOver = true;
  }

  // Препятствие исчезает
  digitalWrite(ledPin, LOW);
  delay(1000);
}

```
Программный код (версия с очками и увеличением скорости)

```cpp
// Урок 14: Игра Динозавр (с очками и ускорением)

int ledPin = 13;
int buttonPin = 2;
int buzzerPin = 8;

int score = 0;
int speed = 800; // начальная задержка
bool gameOver = false;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buttonPin, INPUT_PULLUP);
  pinMode(buzzerPin, OUTPUT);
  Serial.begin(9600);
  Serial.println("Игра началась! Прыгай через препятствия!");
}

void loop() {
  if (gameOver) return;

  digitalWrite(ledPin, HIGH);
  delay(speed);

  if (digitalRead(buttonPin) == LOW) { // прыжок
    score++;
    Serial.print("Прыжок! Очки: ");
    Serial.println(score);
  } else {
    Serial.print("Столкновение! Итоговые очки: ");
    Serial.println(score);
    tone(buzzerPin, 300);
    delay(1000);
    noTone(buzzerPin);
    gameOver = true;
  }

  digitalWrite(ledPin, LOW);
  delay(speed);

  if (score > 0 && score % 5 == 0 && speed > 200) {
    speed -= 50; // ускоряем игру
    Serial.print("Скорость увеличена! Новая задержка: ");
    Serial.println(speed);
  }
}

```

Эксперименты

Измените скорость появления препятствий.
Сделайте так, чтобы препятствия появлялись случайно (с random()).
Добавьте второй светодиод как «двойное препятствие».
Используйте динамик: добавьте короткий звук при успешном прыжке.
Реализуйте «бесконечную игру» — сброс игры кнопкой после окончания.

Задание для самостоятельной работы

Нарисуйте схему подключения игры «Динозавр».
Проведите серию игр и составьте таблицу с результатами (очки у разных игроков).
Добавьте вывод «Лучший результат» в Serial Monitor.
Реализуйте несколько уровней сложности: лёгкий (медленно), нормальный, сложный (очень быстро).
Если есть LCD-экран, отобразите там счёт и статус игры.
