# Урок 3. Автономное освещение

## Теория  

Автономное освещение — это система, которая работает сама по себе и не требует постоянного вмешательства человека. Мы встречаем такие решения в повседневной жизни: фонари на улице, которые включаются ночью и выключаются утром, освещение в подъездах, которое реагирует на движение, или ночники, реагирующие на уровень света в комнате.  

Основная идея автономного освещения — использование датчиков, которые определяют состояние окружающей среды, и микроконтроллера, который принимает решение, включать свет или нет.  

В нашем случае мы реализуем простейший вариант: светодиод будет загораться, если уровень освещённости падает ниже определённого порога. Это напоминает работу уличного фонаря, который включается при наступлении темноты.  

---

## Интересные факты  

- Первые уличные фонари с автоматическим включением появились ещё в начале XX века и использовали механические таймеры.  
- Сегодня для автономного освещения широко применяются датчики движения и датчики освещённости.  
- Умные города (smart cities) используют такие системы для экономии энергии: фонари включаются только там, где это действительно нужно.  
- Современные солнечные фонари полностью автономны: днём они накапливают энергию, а ночью используют её для освещения.  

---

## Практика  

### Материалы  

- Arduino Uno (или совместимая).  
- Светодиод.  
- Резистор 220 Ом.  
- Фотоresistor (LDR — Light Dependent Resistor).  
- Резистор 10 кОм (для делителя напряжения).  
- Макетная плата (breadboard).  
- Провода.  

### Подключение  

1. Светодиод: длинная ножка (анод) через резистор 220 Ом → пин №13, короткая ножка → GND.  
2. Фоторезистор:  
   - один вывод фоторезистора к 5V,  
   - другой вывод к пину A0 Arduino и одновременно через резистор 10 кОм → GND.  

Таким образом, мы получаем делитель напряжения: при ярком свете сопротивление LDR низкое, напряжение на A0 будет небольшим; при темноте сопротивление растёт, и напряжение увеличивается.  

---

## Программный код  

```cpp
// Урок 3: Автономное освещение
// Светодиод загорается, если темно

int ledPin = 13;     // Светодиод
int ldrPin = A0;     // Фоторезистор
int lightLevel = 0;  // Значение освещенности

void setup() {
  pinMode(ledPin, OUTPUT);
  Serial.begin(9600); // Для наблюдения значений в Мониторе порта
}

void loop() {
  lightLevel = analogRead(ldrPin); // Считываем освещенность
  Serial.println(lightLevel);      // Отображаем в мониторе порта

  if (lightLevel < 500) {          // Порог: чем меньше, тем темнее
    digitalWrite(ledPin, HIGH);    // Включить свет
  } else {
    digitalWrite(ledPin, LOW);     // Выключить свет
  }

  delay(200);
}

Эксперименты

Измените порог освещённости (if (lightLevel < 500)) на другие значения, чтобы найти оптимальный уровень срабатывания.
Попробуйте включить не один светодиод, а два или три — чтобы они загорались поочерёдно при разной степени темноты.
Используйте серийный монитор Arduino IDE, чтобы наблюдать за изменениями значений фоторезистора при разном освещении.
Сделайте так, чтобы светодиод не только включался, но и мигал в темноте.
Реализуйте «ночник»: светодиод загорается только при полной темноте, а при слабом свете остаётся выключенным.

Задание для самостоятельной работы

Нарисуйте схему подключения фоторезистора и светодиода.
Составьте таблицу: уровень освещённости (значения с A0) при разном свете (яркий, средний, тёмный).
Измените программу так, чтобы при темноте светодиод включался на несколько секунд, а затем автоматически выключался.
Реализуйте «умное освещение» для комнаты: при темноте включается светодиод, но если нажать кнопку, то светодиод можно отключить вручную.
