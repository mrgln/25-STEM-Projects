# Урок 6. Доминируйте над ритмом

## Теория  

Ритм — это повторяющаяся последовательность звуков или сигналов. В музыке ритм задаёт темп произведения. В электронике и робототехнике ритм проявляется, когда устройства мигают, подают звуковые сигналы или совершают движения с определённой частотой.  

В Arduino создание ритма можно реализовать двумя способами:  
1. **С помощью задержек (`delay()`)** — простой способ, когда выполнение программы останавливается на указанное время.  
2. **С помощью функции `millis()`** — более гибкий способ, позволяющий задавать ритм, не блокируя выполнение других задач.  

Умение управлять временем даёт возможность создавать целые «ритмы» для роботов: мигающие огни, мигание по шаблонам, звуковые сигналы и даже «музыкальные» проекты.  

---

## Интересные факты  

- Первые электронные музыкальные ритм-машины появились в 1930-х годах и использовали электромеханические барабаны.  
- В робототехнике правильные ритмы сигналов применяются в управлении моторами — например, в шаговых двигателях.  
- С помощью простых сигналов Arduino можно воспроизводить известные мелодии (например, «Happy Birthday»).  
- В программировании создание ритмов учит мыслить как музыкант: важно не только что происходит, но и когда.  

---

## Практика  

Мы создадим простейший «ритм-машину» на Arduino:  
- Светодиод будет мигать в определённом ритме.  
- Пьезодинамик (если есть) будет воспроизводить звук в такт.  

### Материалы  

- Arduino Uno (или совместимая).  
- Светодиод + резистор 220 Ом.  
- Пьезодинамик (если есть в наборе).  
- Макетная плата.  
- Провода.  

### Подключение  

1. Светодиод: длинная ножка через резистор → пин №13, короткая ножка → GND.  
2. Пьезодинамик: один вывод → пин №8, второй → GND.  

---

## Программный код (версия с delay)  

```cpp
// Урок 6: Доминируйте над ритмом
// Ритмичное мигание + звук

int ledPin = 13;
int buzzerPin = 8;

void setup() {
  pinMode(ledPin, OUTPUT);
  pinMode(buzzerPin, OUTPUT);
}

void loop() {
  digitalWrite(ledPin, HIGH);    // Свет включен
  tone(buzzerPin, 440);          // Звук (нота Ля)
  delay(300);                    // Держим 300 мс

  digitalWrite(ledPin, LOW);     // Свет выключен
  noTone(buzzerPin);             // Звук выключен
  delay(200);                    // Пауза 200 мс

  digitalWrite(ledPin, HIGH);
  tone(buzzerPin, 660);          // Нота Ми
  delay(500);

  digitalWrite(ledPin, LOW);
  noTone(buzzerPin);
  delay(500);
}
```

Эксперименты

Измените длительность звуков и пауз, создавая разные ритмы (например, быстрый марш или медленный вальс).
Попробуйте убрать динамик и оставить только светодиод, превращая мигание в «световой метроном».
Сочетайте разные частоты: пусть один сигнал короткий и высокий, а другой длинный и низкий.
Используйте millis() и сделайте так, чтобы параллельно с ритмом загорался второй светодиод с другим рисунком мигания.
Попробуйте закодировать знакомую мелодию с помощью последовательности тонов и задержек.

Задание для самостоятельной работы

Нарисуйте схему подключения светодиода и динамика.
Составьте таблицу ритмов: какие задержки и частоты вы использовали, и какой эффект получили.
Реализуйте собственный ритм из трёх разных длин сигналов.
Напишите программу «свето-музыкальный метроном»: мигающий светодиод и звук в ритме 1-2-3-4.
Если есть второй динамик или светодиод, создайте «дуэт» — два устройства, которые играют в разном ритме.
