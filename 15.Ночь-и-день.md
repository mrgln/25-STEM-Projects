# Урок 15. Ночь и день

## Теория  

В природе всё живое подчиняется циклу «день–ночь»: растения открывают и закрывают листья, животные активны в определённое время, а люди ориентируются по свету.  
Мы можем смоделировать этот процесс с помощью Arduino: светодиод будет имитировать солнце, а другой — луну.  

Принцип работы:  
- **День** — горит жёлтый или белый светодиод.  
- **Ночь** — горит синий или белый с меньшей яркостью.  
- Переключение может происходить автоматически (по таймеру или фоторезистору).  

Таким образом, мы создаём маленькую модель «суточного цикла».  

---

## Интересные факты  

- Первые механические устройства для измерения дня и ночи появились у египтян в виде солнечных часов.  
- Цикл день–ночь регулируется биологическими часами человека — **циркадным ритмом**.  
- Многие «умные лампы» в современных домах автоматически регулируют яркость в зависимости от времени суток.  
- В сельском хозяйстве такие системы применяют для теплиц, чтобы контролировать рост растений.  

---

## Практика  

### Материалы  

- Arduino Uno (или совместимая).  
- Два светодиода (жёлтый и синий, можно заменить на белые).  
- Два резистора по 220 Ом.  
- Фоторезистор (LDR) + резистор 10 кОм (для режима с датчиком).  
- Макетная плата, провода.  

### Подключение  

1. Жёлтый светодиод (Солнце): анод через резистор → D9 (PWM), катод → GND.  
2. Синий светодиод (Луна): анод через резистор → D10 (PWM), катод → GND.  
3. Фоторезистор: один вывод → 5V, второй → A0 и через резистор 10 кОм → GND.  

---

## Программный код (автоматическое переключение по времени)

```cpp
// Урок 15: Ночь и день
// Переключение светодиодов каждые 5 секунд (симуляция дня и ночи)

int sunPin = 9;
int moonPin = 10;

void setup() {
  pinMode(sunPin, OUTPUT);
  pinMode(moonPin, OUTPUT);
}

void loop() {
  // День
  digitalWrite(sunPin, HIGH);
  digitalWrite(moonPin, LOW);
  delay(5000);

  // Ночь
  digitalWrite(sunPin, LOW);
  digitalWrite(moonPin, HIGH);
  delay(5000);
}
```

Программный код (с фоторезистором)

```cpp
// Ночь и день с фоторезистором
// Автоматическое включение в зависимости от освещенности

int sunPin = 9;
int moonPin = 10;
int ldrPin = A0;
int value = 0;

void setup() {
  pinMode(sunPin, OUTPUT);
  pinMode(moonPin, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  value = analogRead(ldrPin); // 0–1023
  Serial.println(value);

  if (value > 500) {
    // Светло -> день
    digitalWrite(sunPin, HIGH);
    digitalWrite(moonPin, LOW);
  } else {
    // Темно -> ночь
    digitalWrite(sunPin, LOW);
    digitalWrite(moonPin, HIGH);
  }

  delay(200);
}

```

Эксперименты

Измените длительность «дня» и «ночи» (например, 10 с день, 20 с ночь).
Реализуйте плавный переход: днём светодиод постепенно загорается, а ночью плавно гаснет.
Добавьте третий светодиод (например, белый для «рассвета» и «заката»).
Сделайте систему «облаков»: в случайное время днём солнце немного тускнеет.
Добавьте кнопку «ручного переключения» между днём и ночью.

Задание для самостоятельной работы

Нарисуйте схему подключения «солнца» и «луны».
Составьте таблицу: какое значение освещённости (с фоторезистора) соответствует дню и ночи.
Реализуйте «биологические часы»: пусть день длится 12 секунд, а ночь — 12 секунд, и в Serial Monitor выводится «Сейчас день» или «Сейчас ночь».
Сделайте «сезонный режим»: летом день длиннее (например, 15 секунд), а зимой короче (например, 8 секунд).
Если есть RGB-светодиод, реализуйте более красивую смену цвета: жёлтый → оранжевый → красный (закат), потом синий (ночь).
